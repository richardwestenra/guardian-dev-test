"use strict";!function(){function a(a){Array.prototype.filter.call(j.querySelectorAll("li"),function(b){return b!==a}).forEach(function(a){a.setAttribute("aria-selected",!1),a.classList.remove("tabs__tab--selected")}),a.setAttribute("aria-selected",!0),a.classList.add("tabs__tab--selected")}function b(a){Array.prototype.forEach.call(k.querySelectorAll(".tabs__panel"),function(b){var c=b.id===a;b.style.display=c?"":"none"})}function c(a){return"http://content.guardianapis.com/search?api-key="+f+"&page-size="+g+"&section="+a}function d(a,b){var c=b.response.results;new Ractive({el:"tabs-"+a+"-posts",template:i,data:{posts:c}})}function e(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a),d.onload=function(){200==d.status?b(d.response):c(Error(d.statusText))},d.onerror=function(){c(Error("Network Error"))},d.send()})}var f="9wur7sdh84azzazdt3ye54k4",g=5,h=["uk-news","football","travel"],i=document.getElementById("tabs-posts-template").innerHTML,j=document.getElementById("tabs"),k=document.getElementById("tabs-content");e(c(h[0])).then(function(a){return d(0,JSON.parse(a)),e(c(h[1]))}).then(function(a){return d(1,JSON.parse(a)),e(c(h[2]))}).then(function(a){d(2,JSON.parse(a))})["catch"](function(a){console.error(a)}),[].forEach.call(j.querySelectorAll("a"),function(f){f.addEventListener("click",function(g){var i=f.getAttribute("href"),j=+i.substr(-1);a(f.parentNode),b(i.substr(1)),e(c(h[j])).then(function(a){d(j,JSON.parse(a))})["catch"](function(a){console.error(a)}),g.preventDefault()},!1)})}();